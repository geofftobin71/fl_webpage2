<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Floriade Admin</title>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <style>span[class*="CustomIconWrapper"] img {margin-top:-175px}</style>
  </head>
  <body>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>
    <script>
      CMS.registerEditorComponent({
        id: "youtube",
        label: "YouTube",
        fields: [{name: 'id', label: 'YouTube Video ID', widget: 'string'}],
        pattern: /^<lite-youtube video-id="(.*?)"><\/lite-youtube>$/ms,
        fromBlock: function(match) {
          return {
            id: match[1]
          };
        },
        toBlock: function(obj) {
          return `<lite-youtube videoid="${obj.id}" style="background-image: url('https://i.ytimg.com/vi/${obj.id}/maxresdefault.jpg');"><button type="button" class="lty-playbtn"><span class="lyt-visually-hidden">Play Video</span></button></lite-youtube><noscript style="display:block"><a style="display:block;width:100%;max-width:720px;margin:0 auto" href="https://youtu.be/${obj.id}" target="_blank" rel="noopener"><img src="https://i.ytimg.com/vi/${obj.id}/maxresdefault.jpg" alt="YouTube video" width="1280" height="720"><p class="caption">Click to Play</p></a><style>lite-youtube{display:none}</style></noscript>`;
        },
        toPreview: function(obj) {
          return `<lite-youtube videoid="${obj.id}" style="background-image: url('https://i.ytimg.com/vi/${obj.id}/maxresdefault.jpg');"><button type="button" class="lty-playbtn"><span class="lyt-visually-hidden">Play Video</span></button></lite-youtube><noscript style="display:block"><a style="display:block;width:100%;max-width:720px;margin:0 auto" href="https://youtu.be/${obj.id}" target="_blank" rel="noopener"><img src="https://i.ytimg.com/vi/${obj.id}/maxresdefault.jpg" alt="YouTube video" width="1280" height="720"><p class="caption">Click to Play</p></a><style>lite-youtube{display:none}</style></noscript>`;
        }
      });
    </script>
  </body>
</html>
